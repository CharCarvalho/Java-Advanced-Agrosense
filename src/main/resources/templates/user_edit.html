<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Usuário - AgroSense</title>
    <link rel="stylesheet" href="/styles/style.css">
</head>

<body>
    <header>
        <div class="headerContainer">
            <a href="/">Home</a>
            <a th:href="@{/images_page/{id_cliente}(id_cliente=${usuario.id_cliente})}" class="btn">Voltar para Imagens</a>
        </div>
    </header>

    <h1>Editar Dados do Usuário</h1>

    <div th:if="${errorMessage}" class="error-message">
        <p th:text="${errorMessage}"></p>
    </div>

    <form th:action="@{/user_edit}" method="post">
        <input type="hidden" id="id_cliente" name="id_cliente" th:value="${usuario.id_cliente}">
        
        <label for="nm_cliente">Nome:</label>
        <input type="text" id="nm_cliente" name="nm_cliente" th:value="${usuario.nm_cliente}" required>
        
        <label for="tp_cliente">Tipo:</label>
        <select id="tp_cliente" name="tp_cliente" required>
            <option value="" th:if="${usuario.tp_cliente == null}" disabled selected>Selecione o tipo</option>
            <option value="Pessoa Física" th:selected="${usuario.tp_cliente == 'Pessoa Física'}">Pessoa Física</option>
            <option value="Pessoa Jurídica" th:selected="${usuario.tp_cliente == 'Pessoa Jurídica'}">Pessoa Jurídica</option>
            <option value="Outro" th:selected="${usuario.tp_cliente == 'Outro'}">Outro</option>
        </select>
        
        <label for="nmEmail">E-mail:</label>
        <input type="email" id="nmEmail" name="nmEmail" th:value="${usuario.nmEmail}" required>
        
        <label for="nm_senha">Senha:</label>
        <input type="password" id="nm_senha" name="nm_senha" th:value="${usuario.nm_senha}" required>
		
        <button type="submit" class="btn">Atualizar</button>
    </form>
    <form th:action="@{/user_delete/{id_cliente}(id_cliente=${usuario.id_cliente})}" method="post" class="form_delete">
	    <input type="hidden" name="_method" value="POST"/>
	    <button type="submit" class="btn_deletar" onclick="return confirm('Tem certeza que deseja deletar sua conta?');">Deletar Conta</button>
	</form>

	

    <footer>
        AgroSense <br>
        <a href="mailto:grupojarvis@fiap.com.br">grupojarvis@fiap.com.br</a>
    </footer>
</body>
</html>
